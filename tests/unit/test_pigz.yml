- name: test_pigz_compress
  tags:
    - unit
    - unit_machine_1
  command: >-
    tests/caper_run.sh \
    tests/unit/wdl/test_pigz_compress.wdl \
    tests/unit/json/test_pigz_compress.json
  stdout:
    contains:
      - "pigz"
      - "-c"
      - "-n"
      - "dummy.txt"
      - "> dummy.gz"

- name: test_pigz_decompress 
  tags:
    - unit
    - unit_machine_1
  command: >-
    tests/caper_run.sh \
    tests/unit/wdl/test_pigz_decompress.wdl \
    tests/unit/json/test_pigz_decompress.json
  stdout:
    contains:
      - "pigz"
      - "-c"
      - "-d"
      - "dummy.txt"
      - "> foo.txt"
